<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Old Introduction • FastRet</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Old Introduction">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FastRet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/GUI-Usage.html">GUI Usage</a></li>
    <li><a class="dropdown-item" href="../articles/CLI-Usage.html">CLI Usage</a></li>
    <li><a class="dropdown-item" href="../articles/Package-Internals.html">Package Internals</a></li>
    <li><a class="dropdown-item" href="../articles/Contributing.html">Contributing</a></li>
    <li><a class="dropdown-item" href="../articles/Installation.html">Installation</a></li>
    <li><a class="dropdown-item" href="../articles/Old-Intro.html">Old Introduction</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/spang-lab/FastRet/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Old Introduction</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/spang-lab/FastRet/blob/main/vignettes/Old-Intro.Rmd" class="external-link"><code>vignettes/Old-Intro.Rmd</code></a></small>
      <div class="d-none name"><code>Old-Intro.Rmd</code></div>
    </div>

    
    
<div class="alert alert-warning" role="alert">
<p>⚠️ <strong>Deprecated:</strong> This article was the original
introduction shipped with version 0.99.6 of FastRet. It is deprecated
and should no longer be used. It is retained here for reference purposes
only.</p>
</div>
<p>Welcome to this introduction vignette for FastRet. This tutorial will
show you how to use FastRet and what to pay attention to when using
it.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/spang-lab/FastRet/" class="external-link">FastRet</a></span><span class="op">)</span></span></code></pre></div>
<p>Before starting our analysis lets save some example data just as you
might have it laying around. The resulting excel file does need to have
three columns, RT, SMILES and NAME.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">RP</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">RP</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 442 × 3</span></span></span>
<span><span class="co">#&gt;       RT SMILES                                                    NAME         </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  3.34 CCC(C(=O)O)O                                              2-HYDROXYBUT…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  3.35 COC1=C(C=CC(=C1)CCN)O                                     3-METHOXYTYR…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  2.11 C1=NC2=C(N1)C(=NC=N2)N                                    ADENINE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  2.1  C1=NC2=C(C(=N1)N)N=CN2C3C(C(C(O3)COP(=O)(O)O)O)O          ADENOSINE 5'…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  3.13 C1C2C(C(C(O2)N3C=NC4=C3N=CN=C4N)O)OP(=O)(O1)O             ADENOSINE 3'…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  2.07 C1=NC2=C(C(=N1)N)N=CN2C3C(C(C(O3)COP(=O)(O)O)OP(=O)(O)O)O ADENOSINE 3'…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  1.22 [O-]C(=O)C[C@H](O)C[N+](C)(C)C                            L-CARNITINE  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  1.25 C[N+](C)(CCOP([O-])(OCC(O)CO)=O)C                         SN-GLYCERO-3…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  1.12 CN1C=C(N=C1)CC(C(=O)O)N                                   N(PAI)-METHY…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  1.21 C(CC(=O)O)CN                                              4-AMINOBUTAN…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 432 more rows</span></span></span>
<span><span class="fu">openxlsx</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/openxlsx/man/write.xlsx.html" class="external-link">write.xlsx</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">RP</span><span class="op">)</span>, file<span class="op">=</span><span class="st">"~/RP_data.xlsx"</span>, rowNames<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Starting the interface is done with one line of code. From now on
there is no need to use R anymore.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">FastRet</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>All objects are additionally explained in more detail if you click on
the question mark.</p>
<div class="float">
<img src="Old-Intro/01.png" style="width:70.0%" alt="FastRet GUI main interface showing the train new model mode with file upload section and model training options"><div class="figcaption">FastRet GUI main interface showing the train new
model mode with file upload section and model training options</div>
</div>
<div class="section level2">
<h2 id="train-new-model">Train new Model<a class="anchor" aria-label="anchor" href="#train-new-model"></a>
</h2>
<p>Staying in the mode “Train new Model” we can upload our previously
saved excel file and start training the regression model. This might
take some time depending on the size of the training set. This is due to
the process of calculating chemical descriptors with rcdk. On the top
right you can see a loading symbol if the process is still running.</p>
<p>Once the training is complete, a boxplot with performance measures as
well as a scatterplot of predicted~actual retention time is shown. This
can be used to get a first impression of the performance that can be
expected.</p>
<p><img src="Old-Intro/02.png" style="width:49.0%" alt="Boxplot showing cross-validation performance measures with R-squared and error metrics for the trained retention time model"><img src="Old-Intro/03.png" style="width:49.0%" alt="Scatterplot of predicted versus actual retention times showing model fit quality with diagonal reference line"></p>
<p>If you want to utilize the trained model on new data, you have to
first save the model and then reload it again in the “Utilize Model”
category. The model you download is trained on the whole data set
without a validation set. All performance measures of the boxplot are
evaluated using cross validation.</p>
</div>
<div class="section level2">
<h2 id="utilize-model-to-predict-on-new-data">Utilize Model to predict on new data<a class="anchor" aria-label="anchor" href="#utilize-model-to-predict-on-new-data"></a>
</h2>
<p>In this mode your previously saved model can be used to predict on
new data. This data can be either provided with the input of a single
SMILES or a whole .xlsx file which.</p>
<div class="float">
<img src="Old-Intro/04.png" style="width:80.0%" alt="FastRet GUI in utilize model mode showing options for uploading models and entering SMILES for prediction"><div class="figcaption">FastRet GUI in utilize model mode showing
options for uploading models and entering SMILES for prediction</div>
</div>
<div class="section level3">
<h3 id="adjusting-measurements-using-a-linear-model">Adjusting measurements using a linear model<a class="anchor" aria-label="anchor" href="#adjusting-measurements-using-a-linear-model"></a>
</h3>
<p>If you have measured some metabolites on your new experiment setup
that were also measured on the original setup, you can use this method
to adjust the models prediction with a linear model. Simply check “Use
measured metabolites to adjust Prediction” and upload an Excel file with
the corresponding SMILES/retention time data. After you click on
“Analyze Linear Model” a scatter plot will be shown, displaying the old
vs the new retention times of your measured metabolites. This plot helps
you decide which components of the linear model to select.</p>
<div class="float">
<img src="Old-Intro/05.png" style="width:49.0%" alt="Scatterplot showing correlation between old and new retention times for model adjustment, with linear regression line"><div class="figcaption">Scatterplot showing correlation between old and
new retention times for model adjustment, with linear regression
line</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="selective-measuring">Selective Measuring<a class="anchor" aria-label="anchor" href="#selective-measuring"></a>
</h2>
<p>This mode calculates, for a given data set, the best k molecules to
be measured for a retention time prediction on a new experiment setup.
It uses a combination of Ridge Regression and k-means to determine the
best representatives of your dataset. Representatives as well as their
corresponding clusters can be downloaded afterwards as an excel file.
This step should be used once you have a predictive model and/or data
set and want to use it for new column/gradient/temperature…
combination.</p>
<p>By providing an excel file with SMILES, NAME and RT and a custom k
you can simply start the process and export another excel file which
will show your clusters as well as your metabolites.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christian Amesoeder, Marian Schoen, Tobias Schmidt.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
